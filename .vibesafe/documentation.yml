# VibeSafe Documentation Structure Specification
# 
# This file implements REQ-000F: Projects Have Documented Documentation Structure
# It serves as the single source of truth for where documentation lives and how
# CIPs should be compressed into formal docs.

documentation:
  # Documentation system being used
  system: "sphinx"  # Options: sphinx, mkdocs, plain-markdown, readme-only
  
  # Sphinx-specific configuration
  source_dir: "docs/source"
  build_dir: "docs/_build"
  format: "markdown"  # Primary format (markdown or rst)
  
  # Compression targets: where different types of CIPs should be compressed
  targets:
    infrastructure: "docs/source/architecture.md"  # Not created yet
    feature: "docs/source/features.md"  # Not created yet
    process: "docs/source/workflow.md"  # Not created yet
    guides: "docs/source/"  # General guides go directly in source/
  
  # Key documentation files
  compression_guide: "docs/source/compression-guide.md"
  whats_next_guide: "docs/source/whats_next_script.md"
  getting_started: "docs/source/getting_started.md"
  
  # YAML frontmatter documentation
  yaml_examples: "docs/source/yaml_frontmatter_examples.md"
  yaml_schema: "docs/source/yaml_frontmatter_schema.md"
  
  # Thinking patterns (optional reference)
  patterns_dir: "docs/source/patterns"
  
  # Build commands
  build_command: "cd docs && make html"
  view_command: "open docs/_build/html/index.html"  # macOS specific
  clean_command: "cd docs && make clean"

# Compression workflow
compression:
  # Enable compression suggestions in whats-next
  enabled: true
  
  # Compression workflow stages
  workflow: "WHY→WHAT→HOW→DO→DOCUMENT"
  
  # When to trigger compression suggestions
  triggers:
    - "CIP status changes to Closed"
    - "3+ CIPs closed within 7 days (batch opportunity)"
    - "CIP has compressed: false"
    - "Manual check via whats-next --compression-check"
  
  # Quality criteria
  quality_metrics:
    - "Documentation structure is explicit"
    - "All closed CIPs reference their compression location"
    - "Formal docs exist for compressed CIPs"
    - "Traceability links work bidirectionally"
    - "Documentation builds without errors"

# Notes
notes: |
  This specification was created on 2026-01-08 to fix documentation drift where
  plain markdown files were being created directly in docs/ instead of following
  the Sphinx structure in docs/source/.
  
  All documentation should now be created in docs/source/ and added to the
  docs/source/index.rst table of contents.
  
  See: REQ-000F (Documentation Structure Specification)
       CIP-0013 (Documentation Compression Stage)
       Backlog: 2026-01-08_migrate-docs-to-sphinx.md

